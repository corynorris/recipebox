{"version":3,"sources":["components/Card.jsx","data/Store.js","data/RecipeStore.js","components/RecipeIngredients.jsx","components/RecipeCard.jsx","components/GridLayout.jsx","components/RecipeList.jsx","components/ViewRecipe.jsx","components/RecipeForm.jsx","components/EditRecipe.jsx","components/CreateRecipe.jsx","components/ListLayout.jsx","components/RecipeLayout.jsx","index.js"],"names":["styles","card","position","display","boxShadow","transition","maxHeight","overflow","img","width","details","padding","header","title","bottom","margin","background","Card","style","src","this","props","image","alt","children","React","Component","storage","window","localStorage","Store","storageKey","defaultData","Storage","Error","isEmpty","console","log","set","get","item","setItem","JSON","stringify","data","rawData","getItem","parse","require","RecipeStore","store","ingredients","recipes","id","getRecipes","i","length","Number","mapRecipe","recipe","name","description","rating","addIngredients","getIngredientNames","ids","map","Math","max","splice","save","idx","getIndexById","newRecipe","unMapRecipe","generateSafeId","push","ingredientId","getIngredientList","ingredientIds","ingredientNames","getIngredientName","ingredient","index","indexOf","Set","addIngredient","add","Array","from","list","Ingredients","key","RecipeCard","e","preventDefault","stopPropagation","className","onClick","stopBehaviour","bind","start","stop","step","fractions","emptySymbol","placeholderSymbol","fullSymbol","initialRating","onChange","updateRating","GridLayout","sizeName","columns","rows","group","items","forEach","element","row","col","RecipeList","setState","search","delete","filteredRecipes","state","filter","cards","to","value","target","placeholder","ViewRecipe","getRecipe","params","recipeId","browserHistory","color","textAlign","role","border","float","aria-hidden","marginLeft","RecipeForm","error","handleTags","validName","validDescription","validImage","validIngredients","url","timeout","Promise","resolve","reject","timer","Image","onerror","onabort","clearTimeout","onload","setTimeout","validateFields","validateImage","then","handleSubmit","msg","tags","onSubmit","submitRecipe","htmlFor","type","handleName","handleImage","addOnBlur","handleDescription","submitText","EditRecipe","updateRecipe","CreateRecipe","addRecipe","IndexLayout","RecipeLayout","goBack","render","history","path","component","ListLayout","document","getElementById"],"mappings":"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","file":"static/js/main.f2de6a87.chunk.js","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst styles = {\n  card: {\n    position: \"relative\",\n    display: \"inline-block\",\n    boxShadow: \"0 4px 8px 0 rgba(0,0,0,0.2)\",\n    transition: \"0.3s\",\n    maxHeight: \"400px\",\n    overflow: \"hidden\"\n  },\n  img: {\n    width: \"100%\"\n  },\n  details: {\n    padding: \"1rem\"\n  },\n  header: {\n    position: \"relative\"\n  },\n  title: {\n    position: \"absolute\",\n    bottom: \"0\",\n    margin: \"0 0 0.6rem 0\",\n    padding: \"0.6rem\",\n    background: \"rgba(255,255,255, 0.8)\"\n  }\n};\n\nclass Card extends React.Component {\n  render() {\n    return (\n      <article style={styles.card}>\n        <header style={styles.header}>\n          <img\n            src={this.props.image}\n            style={styles.img}\n            alt={this.props.title}\n          />\n          <h3 style={styles.title}>{this.props.title}</h3>\n        </header>\n        <section style={styles.details}>{this.props.children}</section>\n      </article>\n    );\n  }\n}\n\nCard.propTypes = {\n  image: PropTypes.string,\n  title: PropTypes.string\n};\n\nexport default Card;\n","const storage = window.localStorage;\n\nexport default class Store {\n  constructor(storageKey, defaultData = null) {\n    this.storageKey = storageKey;\n    if (typeof (Storage) !== \"undefined\") {\n      this.storageKey = storageKey;\n\n      if (this.isEmpty() && (null !== defaultData)) {\n        console.log('setting defaults');\n        this.set(defaultData);\n      }\n\n    } else {\n      throw new Error('Storage not supported');\n    }\n  }\n\n  isEmpty() {\n    return null === this.get();\n  }\n\n  setItem(item) {\n    storage.setItem(this.storageKey, JSON.stringify({\n      ...this.get(),\n      ...item,\n    }));\n  }\n\n  set(data) {\n    storage.setItem(this.storageKey, JSON.stringify(data));\n  }\n\n  get() {\n    const rawData = storage.getItem(this.storageKey);\n    return JSON.parse(rawData);\n  }\n}","import Store from \"./Store\";\nconst defaultData = require(\"./recipes.json\");\n\nconst APP_STORAGE_KEY = \"recipebox\";\n\nexport default class RecipeStore {\n  constructor() {\n    this.store = new Store(APP_STORAGE_KEY, defaultData);\n    this.data = this.store.get() || {};\n    this.data.ingredients = this.data.ingredients || [];\n    this.data.recipes = this.data.recipes || [];\n  }\n\n  save() {\n    this.store.set(this.data);\n  }\n\n  getRecipes() {\n    this.data = this.store.get() || {};\n    return this.data.recipes || [];\n  }\n\n  getRecipe(id) {\n    const recipes = this.getRecipes();\n    for (let i = 0; i < recipes.length; i++) {\n      if (recipes[i].id === Number(id)) {\n        return this.mapRecipe(recipes[i]);\n      }\n    }\n    return null;\n  }\n\n  unMapRecipe(recipe) {\n    return {\n      id: recipe.id,\n      name: recipe.name,\n      image: recipe.image,\n      description: recipe.description,\n      rating: recipe.rating,\n      ingredients: this.addIngredients(recipe.ingredients)\n    };\n  }\n\n  mapRecipe(recipe) {\n    return {\n      id: recipe.id,\n      name: recipe.name,\n      image: recipe.image,\n      description: recipe.description,\n      rating: recipe.rating,\n      ingredients: this.getIngredientNames(recipe.ingredients)\n    };\n  }\n\n  getIndexById(id) {\n    for (let i = 0; i < this.data.recipes.length; i++) {\n      if (this.data.recipes[i].id === Number(id)) {\n        return i;\n      }\n    }\n  }\n\n  generateSafeId() {\n    const ids = this.data.recipes.map(recipe => recipe.id);\n    return Math.max(...ids) + 1;\n  }\n\n  delete(recipe) {\n    this.data.recipes.splice(recipe.id, 1);\n    this.save();\n  }\n\n  updateRating(id, rating) {\n    const idx = this.getIndexById(id);\n    this.data.recipes[idx].rating = rating;\n    this.save();\n  }\n\n  updateRecipe(recipe) {\n    const newRecipe = this.unMapRecipe(recipe);\n    const idx = this.getIndexById(newRecipe.id);\n    this.data.recipes[idx] = newRecipe;\n    console.log(this.data.recipes);\n    this.save();\n  }\n\n  addRecipe(recipe) {\n    recipe.id = this.generateSafeId();\n    recipe.ingredients = this.addIngredients(recipe.ingredients);\n    this.data.recipes.push(recipe);\n    this.save();\n  }\n\n  getIngredientList() {\n    this.data = this.store.get() || {};\n    return this.data.ingredients || [];\n  }\n\n  getIngredientName(ingredientId) {\n    const ingredients = this.getIngredientList();\n    if (typeof ingredients[ingredientId] === \"string\") {\n      return ingredients[ingredientId];\n    }\n    return null;\n  }\n\n  getIngredientNames(ingredientIds) {\n    let ingredientNames = [];\n    for (let i = 0; i < ingredientIds.length; i++) {\n      ingredientNames.push(this.getIngredientName(ingredientIds[i]));\n    }\n    return ingredientNames;\n  }\n\n  addIngredient(ingredient) {\n    const index = this.getIngredientList().indexOf(ingredient);\n    const length = this.data.ingredients.length;\n    if (index >= 0) {\n      return index;\n    }\n    this.data.ingredients.push(ingredient);\n    this.save();\n    return length;\n  }\n\n  addIngredients(ingredients) {\n    let ingredientIds = new Set();\n    for (let i = 0; i < ingredients.length; i++) {\n      let id = this.addIngredient(ingredients[i]);\n      ingredientIds.add(id);\n    }\n    return Array.from(ingredientIds);\n  }\n}\n","import React from 'react';\nimport RecipeStore from '../data/RecipeStore'\n\nconst store = new RecipeStore();\n\nconst styles = {\n  ingredients: {\n    'textAlign': 'left',\n  },\n  title: {\n    padding: 0,\n    margin: 0\n  },\n  list: {\n    margin: 0,\n  }\n}\n\n\nlet Ingredients = function (props) {\n  let ingredientNames = store.getIngredientList();\n  return (\n    <div style={styles.ingredients}>\n      <h4 style={styles.title}>Ingredients</h4>\n      <ul style={styles.list}>\n        {props.ingredients.map(id => {\n          const name = ingredientNames[id];\n          return (\n            <li key={id}>\n              {name}\n            </li>\n          )\n        })}\n      </ul>\n    </div>\n  );\n}\n\nexport default Ingredients;\n","import React from \"react\";\nimport Rating from \"react-rating\";\nimport Card from \"./Card\";\nimport Ingredients from \"./RecipeIngredients\";\nimport PropTypes from \"prop-types\";\n\nclass RecipeCard extends React.Component {\n  stopBehaviour(e) {\n    e.preventDefault();\n    e.stopPropagation();\n  }\n\n  render() {\n    console.log(this.props.recipe);\n    return (\n      <Card image={this.props.recipe.image} title={this.props.recipe.name}>\n        <div className=\"rating\" onClick={this.stopBehaviour.bind(this)}>\n          <Rating\n            start={0}\n            stop={5}\n            step={1}\n            fractions={2}\n            emptySymbol=\"fa fa-star-o fa-lg gold\"\n            placeholderSymbol=\"fa fa-star fa-lg gold\"\n            fullSymbol=\"fa fa-star fa-lg gold\"\n            initialRating={this.props.recipe.rating}\n            onChange={this.props.updateRating}\n          />\n        </div>\n        <Ingredients ingredients={this.props.recipe.ingredients} />\n      </Card>\n    );\n  }\n}\n\nRecipeCard.propTypes = {\n  recipe: PropTypes.object\n};\n\nexport default RecipeCard;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nclass GridLayout extends React.Component {\n  static propTypes = {\n    columns: PropTypes.number,\n    items: PropTypes.arrayOf(PropTypes.object)\n  };\n\n  row(item, idx) {\n    return (\n      <div key={idx} className=\"row\">\n        {item}\n      </div>\n    );\n  }\n\n  col(item, idx) {\n    const sizeName = \"col-\" + 12 / this.props.columns;\n    return (\n      <div key={idx} className={sizeName}>\n        {item}\n      </div>\n    );\n  }\n\n  render() {\n    let rows = [];\n    let group = [];\n    this.props.items.forEach((element, idx) => {\n      if (idx % this.props.columns === 0) {\n        rows.push(this.row(group, idx));\n        group = [];\n      }\n      group.push(this.col(element, idx));\n    });\n    rows.push(this.row(group, this.props.items.length));\n\n    return <div>{rows}</div>;\n  }\n}\n\nexport default GridLayout;\n","import React from \"react\";\nimport RecipeCard from \"./RecipeCard\";\nimport RecipeStore from \"../data/RecipeStore.js\";\nimport GridLayout from \"./GridLayout\";\nimport { Link } from \"react-router\";\n\nconst store = new RecipeStore();\n\nclass RecipeList extends React.Component {\n  componentWillMount() {\n    let recipes = store.getRecipes();\n    this.setState({\n      recipes: recipes,\n      search: \"\"\n    });\n  }\n\n  delete(recipe) {\n    store.delete(recipe);\n  }\n\n  updateRating(rating) {\n    store.updateRating(this.id, rating);\n  }\n\n  render() {\n    let filteredRecipes = this.state.recipes.filter(recipe => {\n      if (this.state.search.length === 0) {\n        return true;\n      }\n      let ingredients = store.getIngredientNames(recipe.ingredients);\n      for (var i = 0; i < ingredients.length; i++) {\n        if (ingredients[i].indexOf(this.state.search) >= 0) {\n          return true;\n        }\n      }\n      return false;\n    });\n\n    console.log(filteredRecipes);\n    let cards = filteredRecipes.map((recipe, idx) => (\n      <Link to={\"/recipe/view/\" + recipe.id}>\n        <RecipeCard\n          key={idx}\n          recipe={recipe}\n          updateRating={this.updateRating.bind(recipe)}\n        />\n      </Link>\n    ));\n\n    return (\n      <div>\n        <div className=\"searchBar\">\n          <span className=\"fa fa-search\" />\n          <input\n            className=\"search\"\n            value={this.state.search}\n            onChange={e => this.setState({ search: e.target.value })}\n            placeholder=\"Search Ingredients\"\n          />\n        </div>\n        <GridLayout items={cards} columns={3} />\n      </div>\n    );\n  }\n}\n\nexport default RecipeList;\n","import React from 'react';\nimport RecipeStore from '../data/RecipeStore.js';\nimport { Link, browserHistory } from 'react-router';\nconst store = new RecipeStore();\n\nclass ViewRecipe extends React.Component {\n\n  componentWillMount() {\n    let recipe = store.getRecipe(this.props.params.recipeId);\n    this.setState({\n      recipe: recipe\n    })\n  }\n\n  delete() {\n    store.delete(this.state.recipe);\n    browserHistory.push('/');\n  }\n\n  render() {\n    return (\n      <div>\n\n        <div className=\"row\">\n          <div className=\"col-6\" style={{ position: \"relative\" }}>\n            <h2 className=\"title\" style={{ background: \"rgb(52,99,146)\", color: \"white\", width: \"100%\", textAlign: \"center\", \"padding\": \"8px\" }}>\n              {this.state.recipe.name}\n            </h2>\n            <img src={this.state.recipe.image} role=\"presentation\" style={{ width: \"100%\", border: \"2px solid rgb(52,99,146)\" }} />\n          </div>\n          <div className=\"col-5\">\n\n            <hr />\n            <h4>Ingredients</h4>\n            <ul>\n              {this.state.recipe.ingredients.map((ingredient, idx) => {\n                return <li key={idx}>{ingredient}</li>\n              })}\n            </ul>\n            <hr />\n            <h4>Description</h4>\n            <p className=\"description\">\n              {this.state.recipe.description}\n            </p>\n            <hr />\n            <div className=\"options\" style={{ float: \"right\" }} >\n              <Link className=\"actions\" to={'/recipe/edit/' + this.state.recipe.id} style={{ display: \"inline-block\" }}>\n                <i className=\"fa fa-pencil fa-2x\" aria-hidden=\"true\"></i>\n              </Link>\n              <div onClick={this.delete.bind(this)} style={{ display: \"inline-block\", marginLeft: \"5px\" }} >\n                <i className=\"fa fa-times fa-2x\" aria-hidden=\"true\"></i>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div >\n    );\n  }\n}\n\nexport default ViewRecipe;","import React from \"react\";\nimport TagsInput from \"react-tagsinput\";\nimport PropTypes from \"prop-types\";\n\nclass RecipeForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      recipe: this.props.recipe,\n      error: \"\"\n    };\n    this.handleTags = this.handleTags.bind(this);\n  }\n\n  validate(value) {\n    if (value && value.length > 0) {\n      this.setState({ error: \"\" });\n    } else {\n      this.setState({ error: \"All fields are required.\" });\n    }\n  }\n\n  validateFields(recipe) {\n    const validName = recipe.name && recipe.name.length > 0;\n    const validDescription =\n      recipe.description && recipe.description.length > 0;\n    const validImage = recipe.image && recipe.image.length > 0;\n    const validIngredients =\n      recipe.ingredients && recipe.ingredients.length > 0;\n    return validName && validImage && validDescription && validIngredients;\n  }\n\n  validateImage(url, timeout) {\n    return new Promise(function(resolve, reject) {\n      let timeout = 5000;\n      var timer,\n        img = new Image();\n      img.onerror = img.onabort = function() {\n        clearTimeout(timer);\n        reject(\"Invalid image.\");\n      };\n      img.onload = function() {\n        clearTimeout(timer);\n        resolve(\"success\");\n      };\n      timer = setTimeout(function() {\n        img.src = \"\";\n        reject(\"Image loads too slowly.\");\n      }, timeout);\n      img.src = url;\n    });\n  }\n\n  submitRecipe(e) {\n    e.preventDefault();\n    let recipe = this.state.recipe;\n    recipe.rating = 5;\n    if (this.validateFields(recipe)) {\n      this.validateImage(recipe.image, 500).then(\n        function() {\n          this.props.handleSubmit(recipe);\n        }.bind(this),\n        function(msg) {\n          this.setState({ error: msg });\n        }.bind(this)\n      );\n    } else {\n      this.setState({ error: \"All fields are required.\" });\n    }\n  }\n\n  handleImage(image) {\n    let recipe = this.state.recipe;\n    recipe.image = image.target.value;\n    this.setState({ recipe: recipe });\n  }\n\n  handleDescription(description) {\n    let recipe = this.state.recipe;\n    recipe.description = description.target.value;\n    this.setState({ recipe: recipe });\n  }\n\n  handleName(name) {\n    let recipe = this.state.recipe;\n    recipe.name = name.target.value;\n    this.setState({ recipe: recipe });\n  }\n\n  handleTags(tags) {\n    let recipe = this.state.recipe;\n    recipe.ingredients = tags;\n    this.setState({ recipe: recipe });\n  }\n\n  render() {\n    return (\n      <div>\n        {this.state.error.length > 0 && (\n          <p style={{ color: \"red\" }}>{this.state.error}</p>\n        )}\n        <form onSubmit={this.submitRecipe.bind(this)}>\n          <div className=\"form-row\">\n            <label htmlFor=\"name\">Name</label>\n            <input\n              type=\"text\"\n              id=\"name\"\n              onChange={this.handleName.bind(this)}\n              value={this.state.recipe.name || \"\"}\n            />\n          </div>\n          <div className=\"form-row\">\n            <label htmlFor=\"image\">Image</label>\n            <input\n              type=\"text\"\n              id=\"image\"\n              onChange={this.handleImage.bind(this)}\n              value={this.state.recipe.image || \"\"}\n            />\n          </div>\n          <div className=\"form-row-tag\">\n            <label htmlFor=\"ingredients\">Ingredients</label>\n            <TagsInput\n              id=\"ingredients\"\n              onChange={this.handleTags}\n              addOnBlur={true}\n              value={this.state.recipe.ingredients || []}\n            />\n          </div>\n          <div className=\"form-row\">\n            <label htmlFor=\"description\">Description</label>\n            <input\n              type=\"text\"\n              id=\"description\"\n              onChange={this.handleDescription.bind(this)}\n              value={this.state.recipe.description || \"\"}\n            />\n          </div>\n          <button type=\"submit\">{this.props.submitText}</button>\n        </form>\n      </div>\n    );\n  }\n}\n\nRecipeForm.propTypes = {\n  submitText: PropTypes.string,\n  handleSumbit: PropTypes.func\n};\n\nexport default RecipeForm;\n","import React from 'react';\nimport RecipeForm from './RecipeForm';\nimport RecipeStore from '../data/RecipeStore';\nimport { browserHistory } from 'react-router'\n\nconst store = new RecipeStore();\n\nclass EditRecipe extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      recipe: store.getRecipe(this.props.params.recipeId)\n    }\n  }\n\n  handleSubmit(recipe) {\n    store.updateRecipe(recipe);\n    browserHistory.push('/');\n  }\n\n  render() {\n\n    return (\n      <div className=\"row\">\n        <div className=\"col-12\">\n          <p>Update your recipe</p>\n          <RecipeForm\n            recipe={this.state.recipe}\n            submitText=\"Save Changes\"\n            handleSubmit={this.handleSubmit.bind(this)} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default EditRecipe;\n\n","import React from 'react';\nimport RecipeForm from './RecipeForm';\nimport RecipeStore from '../data/RecipeStore';\nimport { browserHistory } from 'react-router'\n\nconst store = new RecipeStore();\n\nclass CreateRecipe extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      recipe: {}\n    }\n  }\n\n  handleSubmit(recipe) {\n    store.addRecipe(recipe);\n    browserHistory.push('/');\n  }\n\n  render() {\n    return (\n      <div className=\"row\">\n        <div className=\"col-12\">\n          <p>Add a new recipe</p>\n          <RecipeForm\n            submitText=\"Add Recipe\"\n            recipe={this.state.recipe}\n            handleSubmit={this.handleSubmit.bind(this)} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default CreateRecipe;\n\n","import React, { Component } from 'react';\nimport { Link } from 'react-router'\n\nclass IndexLayout extends Component {\n  render() {\n    return (\n      <div className=\"app\">\n        <div className=\"container\">\n          <div className=\"app-header\">\n            <h2 className=\"title\">Recipe Box</h2>\n            <Link className=\"actions\" to='/recipe/create'>\n              <h2><i className=\"fa fa-plus fa-lg\" aria-hidden=\"true\"></i></h2>\n            </Link>\n          </div>\n          <div className=\"app-body\">\n            {this.props.children}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default IndexLayout;\n","import React, { Component } from 'react';\nimport { browserHistory } from 'react-router'\n\nclass RecipeLayout extends Component {\n  render() {\n    return (\n      <div className=\"app\">\n        <div className=\"container\">\n          <div className=\"app-header\">\n            <h2 className=\"title\">Recipe Box</h2>\n            <a className=\"actions\" onClick={browserHistory.goBack}>\n              <h2><i className=\"fa fa-arrow-left fa-lg\" aria-hidden=\"true\"></i></h2>\n            </a>\n          </div>\n          <div className=\"app-body\">\n            {this.props.children}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default RecipeLayout;\n","import React from \"react\";\nimport { Router, Route, IndexRoute, browserHistory } from \"react-router\";\nimport { render } from \"react-dom\";\nimport RecipeList from \"./components/RecipeList\";\nimport ViewRecipe from \"./components/ViewRecipe\";\nimport EditRecipe from \"./components/EditRecipe\";\nimport CreateRecipe from \"./components/CreateRecipe\";\nimport ListLayout from \"./components/ListLayout\";\nimport RecipeLayout from \"./components/RecipeLayout\";\nimport \"./App.css\";\n\nrender(\n  <Router history={browserHistory}>\n    <Route path=\"/\" component={ListLayout}>\n      <IndexRoute component={RecipeList} />\n    </Route>\n    <Route path=\"recipe\" component={RecipeLayout}>\n      <Route path=\"view/:recipeId\" component={ViewRecipe} />\n      <Route path=\"create\" component={CreateRecipe} />\n      <Route path=\"edit/:recipeId\" component={EditRecipe} />\n    </Route>\n  </Router>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}